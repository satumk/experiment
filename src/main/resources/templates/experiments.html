<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head th:replace="fragments/layout :: head" lang="en">
        <meta charset="UTF-8" />
        <title>Experiment</title>
    </head>
    <body>
        <div th:replace="fragments/layout :: header"></div>
        
        <h1>Experiments currently in the database</h1>
        
        <p>as table</p>
        <table>
            <tr th:each="experiment: ${experiments}">
                <td><a th:href="@{/experiment/{id}(id=${experiment.id})}">
                    <span th:text="${experiment.name}">Experiment name</span></a>
                </td>
                <td>
                    <span th:text="${experiment.subject}">Experiment subject</span>
                </td>
                <td>
                    <span th:text="${experiment.duration}">Experiment duration</span>
                </td>
            </tr>
        </table>
        
        <p>as list</p>
        <ul>
            <li th:each="experiment: ${experiments}">
                <a th:href="@{/experiment/{id}(id=${experiment.id})}">
                    <span th:text="${experiment.name}">Experiment name</span>
                    <span th:text="${experiment.subject}">Experiment subject</span>
                    <span th:text="${experiment.duration}">Experiment duration</span>
                </a>
            </li>
        </ul> 
        
        <h1>Create new experiment</h1>
        
        <p>On this form you can create an experiment. Basically, here, you are creating a 
            page for this experiment. After you have submitted the information below,
            please go to the page assigned for this experiment to give further 
            information.</p>
        
        <form th:action="@{/experiments}" th:object="${experiment}" method="POST">
            <table>
                <tr>
                    <td>Name of experiment:</td>
                    <td><input type="text" name="*{name}"/></td>
                    <td th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name error message</td>
                </tr>
                <tr>
                    <td>Subject of experiment:</td>
                    <td><input type="text" name="*{subject}"/></td>
                    <td th:if="${#fields.hasErrors('subject')}" th:errors="*{subject}">Subject error message</td>
                </tr>
                <tr>
                    <td><button type="submit">Create experiment</button></td>
                </tr>
            </table>
        </form>
      
        <div th:replace="fragments/layout :: footer"></div>
    </body>
</html>